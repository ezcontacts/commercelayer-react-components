"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function getCardDetails({paymentType,customerPayment}){var _a,_b,_c,_d,_e,_f,_g,_h,_j,_k,_l,_m,_o,_p;switch(paymentType){case"checkout_com_payments":{const ps=customerPayment.payment_source,source=(_a=ps?.payment_response)===null||_a===void 0?void 0:_a.source;if(source)return{brand:source.scheme.toLowerCase(),exp_month:source.expiry_month,exp_year:source.expiry_year,last4:source.last4};break}case"stripe_payments":{const ps=customerPayment.payment_source,source=(_c=(_b=ps?.options)===null||_b===void 0?void 0:_b.card)!==null&&_c!==void 0?_c:(_d=ps?.payment_method)===null||_d===void 0?void 0:_d.card;if(source)return Object.assign({},source);break}case"braintree_payments":{const ps=customerPayment.payment_source,source=(_e=ps?.options)===null||_e===void 0?void 0:_e.card;if(source)return Object.assign({},source);break}case"adyen_payments":{const ps=customerPayment.payment_source,source=(_f=ps?.payment_request_data)===null||_f===void 0?void 0:_f.payment_method,authorized=((_g=ps?.payment_response)===null||_g===void 0?void 0:_g.resultCode)==="Authorised",last4=(_m=(_k=(_j=(_h=ps?.payment_response)===null||_h===void 0?void 0:_h.additionalData)===null||_j===void 0?void 0:_j.cardSummary)!==null&&_k!==void 0?_k:(_l=ps?.payment_instrument)===null||_l===void 0?void 0:_l.card_last_digits)!==null&&_m!==void 0?_m:"****";if(source&&authorized){const brand=source.type==="scheme"?(_o=source.brand)!==null&&_o!==void 0?_o:"credit-card":source.type.replace("_account","");return Object.assign(Object.assign({},source),{last4,brand})}break}default:{const ps=customerPayment.payment_source,source=(_p=ps?.metadata)===null||_p===void 0?void 0:_p.card;if(source)return Object.assign({},source);break}}return{brand:"",exp_month:"**",exp_year:"**",last4:"****"}}exports.default=getCardDetails;